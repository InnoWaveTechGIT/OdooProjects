<odoo>


    <record id="view_account_move_formv_inherit" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">


            <xpath expr="//group[@id='header_left_group']" position="inside">
                <field name="nupco_order_id" string="Contract No" domain="[('id', '=', order_ids)]"
                       readonly="not order_ids"
                       invisible="move_type not in ['out_invoice' , 'out_refund']"/>
                <field name="tender_no" invisible="move_type not in ['out_invoice' , 'out_refund']"/>
                <field name="product_ids" widget="many2many_tags" invisible="1"/>
                <field name="hide_add_sale" invisible="1"/>
                <field name="order_ids" widget="many2many_tags" invisible="1"/>
                <field name="len_order_ids" invisible="1"/>
                <field name="date_from" widget="daterange" options='{"end_date_field": "date_to"}'
                       required="date_from or date_to" invisible="move_type not in ['out_invoice' , 'out_refund']"/>
                <field name="date_to" invisible="1" required="date_from"/>
                <field name="release_number" invisible="move_type not in ['out_invoice' , 'out_refund']"/>
            </xpath>
            <xpath expr="//group[@id='other_tab_group'][1]/group[2]" position="after">
                <group string="Tender">
                    <field name="tender_number"/>
                    <field name="release_number"/>
                    <field name="total_award_values"/>
                    <field name="del_award_values"/>
                    <field name="curr_release_values"/>
                    <field name="remaining_awarded_value"/>
                    <field name="sale_id" invisible="1"/>


                </group>

            </xpath>
            <xpath expr="//page[@id='invoice_tab'][1]/field[1]/list[1]/field[2]" position="after">

            </xpath>
            <xpath expr="//page[@id='invoice_tab'][1]/field[1]/list[1]/field[2]" position="after">
                <field name="product_ids" widget="many2many_tags" column_invisible="True"/>
                <field name="delivered"/>
                <field name="delivered_test" widget="many2many_tags" column_invisible="True"/>

            </xpath>
            <xpath expr="//page[@id='invoice_tab'][1]/field[1]/list[1]/field[@name='product_id']" position="replace">
                <field name="product_id" domain="[('id', '=', product_ids)]"
                       widget="product_label_section_and_note_field"></field>
                <field name="po_number" column_invisible="parent.move_type not in ['out_invoice' , 'out_refund'] or parent.nupco_order_id == False"
                />
                <field name="manufacturer_id" column_invisible="parent.move_type not in ['out_invoice' , 'out_refund'] or parent.nupco_order_id == False"
                />
                <field name="sd" column_invisible="True"/>
                <field name="has_tender" column_invisible="1"/>
                <field name="catalogue_no" column_invisible="parent.move_type not in ['out_invoice' , 'out_refund'] or parent.nupco_order_id == False "
                />
                <field name="production_date" column_invisible="parent.move_type not in ['out_invoice' , 'out_refund'] or parent.nupco_order_id == False"
                />
                <field name="expiry_date" column_invisible="parent.move_type not in ['out_invoice' , 'out_refund'] or parent.nupco_order_id == False"
                />
                <field name="lot_id" readonly='1'
                       column_invisible="parent.move_type not in ['out_invoice' , 'out_refund'] or parent.nupco_order_id == False"
                />

            </xpath>
        </field>
    </record>
</odoo>
