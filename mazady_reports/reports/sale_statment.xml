<?xml version="1.0"?>
<odoo>
    <data>
        <record id="action_report_sale_statement_template" model="ir.actions.report">
            <field name="name">Sale Statement Report</field>
            <field name="model">sale.order</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">mazady_reports.external_layout_sale_statement_report</field>
            <field name="report_file">mazady_reports.external_layout_sale_statement_report</field>
            <field name="binding_model_id" ref="sale.model_sale_order"/>
            <field name="binding_type">report</field>
        </record>

        <template id="external_layout_sale_statement_report">
            <t t-call="web.html_container">
                <t t-call="web.external_layout">

                    <h2 style="text-align: center;">Sale Statement Details</h2>

                    <div class="page" style="display: flex; justify-content: center; align-items: center;">
                        <style>
                            .table {
                            border: 1px solid black;
                            border-collapse: collapse;
                            width: 100%;
                            }
                            .table th, .table td {
                            border: 1px solid black;
                            text-align: center;
                            }
                        </style>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Seq</th>
                                    <th>Order Date</th>
                                    <th>Service Type</th>
                                    <th>Order Reference</th>
                                    <th>User ID</th>
                                    <th>User Name</th>
                                    <th>User Email</th>
                                    <th>Product</th>
                                    <th>Description</th>
                                    <th>Price Unit</th>
                                    <th>Tax</th>
                                    <th>UOM</th>
                                    <th>Price Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="counter" t-value="1"/>
                                <t t-foreach="docs" t-as="record">
                                    <tr>
                                        <td>
                                            <span t-esc="counter"/>
                                        </td>
                                        <t t-set="counter" t-value="counter+1"/>

                                        <td>
                                            <span t-field="record.date_order"/>
                                        </td>
                                        <td>
                                            <span t-field="record.service_type"/>
                                        </td>
                                        <td>
                                            <span t-field="record.name"/>
                                        </td>
                                        <td>
                                            <span t-field="record.partner_sub_id"/>
                                        </td>
                                        <td>
                                            <span t-field="record.partner_id.name"/>
                                        </td>
                                        <td>
                                            <span t-field="record.partner_email"/>
                                        </td>
                                        <td>
                                            <span t-field="record.product_id.name"/>
                                        </td>
                                        <td>
                                            <span t-field="record.product_Description"/>
                                        </td>
                                        <td>
                                            <span t-field="record.Price_unit"/>
                                        </td>
                                        <td>
                                            <span t-field="record.tax_id"/>
                                        </td>
                                        <td>
                                            <span t-field="record.Product_uom_qty"/>
                                        </td>
                                        <td style="text-align: center;">
                                            <span t-field="record.price_total"/>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </t>
            </t>
        </template>

    </data>
</odoo>
